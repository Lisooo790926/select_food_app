{"ast":null,"code":"import { BehaviorSubject, map, startWith } from 'rxjs';\nimport { DataState } from './enums/data.state';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/destapi.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction AppComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵelement(3, \"span\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction AppComponent_ng_container_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"textarea\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const destResponse_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"                    \", destResponse_r1.appData.name, \"\\n                \");\n  }\n}\n\nfunction AppComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 4);\n    i0.ɵɵtemplate(1, AppComponent_ng_container_4_ng_container_1_Template, 4, 0, \"ng-container\", 5);\n    i0.ɵɵtemplate(2, AppComponent_ng_container_4_ng_container_2_Template, 3, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const destResponse_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngSwitch\", destResponse_r1.dataState);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADING_STATE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADED_STATE);\n  }\n}\n\nexport class AppComponent {\n  constructor(destapiService) {\n    this.destapiService = destapiService;\n    this.DataState = DataState;\n    this.destResponse_cur = new BehaviorSubject(null);\n  }\n\n  ngOnInit() {} // fetch all current resturant items\n\n\n  submitCondition(conditionForm) {\n    this.destResponse$ = this.destapiService.destResponse$(conditionForm.value).pipe(map(result => {\n      this.destResponse_cur.next(result.data);\n      return {\n        dataState: DataState.LOADED_STATE,\n        appData: result.data.destResponse\n      };\n    }), startWith({\n      dataState: DataState.LOADING_STATE,\n      appData: this.destResponse_cur.value\n    }));\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DestapiService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 6,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"form-group\"], [\"for\", \"resultTextArea\"], [3, \"ngSwitch\", 4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [1, \"m-1\", \"d-flex\", \"justify-content-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [\"id\", \"resultTextArea\", \"rows\", \"3\", 1, \"form-control\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"label\", 2);\n      i0.ɵɵtext(3, \"Result\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, AppComponent_ng_container_4_Template, 3, 3, \"ng-container\", 3);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 1, ctx.destResponse$));\n    }\n  },\n  directives: [i2.NgIf, i2.NgSwitch, i2.NgSwitchCase],\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["/home/evis/z/selectfood/front/src/app/app.component.ts"],"names":["BehaviorSubject","map","startWith","DataState","i0","i1","i2","AppComponent_ng_container_4_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵelementContainerEnd","AppComponent_ng_container_4_ng_container_2_Template","ɵɵtext","destResponse_r1","ɵɵnextContext","ngIf","ɵɵadvance","ɵɵtextInterpolate1","appData","name","AppComponent_ng_container_4_Template","ɵɵtemplate","ctx_r0","ɵɵproperty","dataState","LOADING_STATE","LOADED_STATE","AppComponent","constructor","destapiService","destResponse_cur","ngOnInit","submitCondition","conditionForm","destResponse$","value","pipe","result","next","data","destResponse","ɵfac","AppComponent_Factory","t","ɵɵdirectiveInject","DestapiService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AppComponent_Template","ɵɵpipe","ɵɵpipeBind1","directives","NgIf","NgSwitch","NgSwitchCase","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { BehaviorSubject, map, startWith } from 'rxjs';\nimport { DataState } from './enums/data.state';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/destapi.service\";\nimport * as i2 from \"@angular/common\";\nfunction AppComponent_ng_container_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵelement(3, \"span\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} }\nfunction AppComponent_ng_container_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"textarea\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const destResponse_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"                    \", destResponse_r1.appData.name, \"\\n                \");\n} }\nfunction AppComponent_ng_container_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 4);\n    i0.ɵɵtemplate(1, AppComponent_ng_container_4_ng_container_1_Template, 4, 0, \"ng-container\", 5);\n    i0.ɵɵtemplate(2, AppComponent_ng_container_4_ng_container_2_Template, 3, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const destResponse_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngSwitch\", destResponse_r1.dataState);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADING_STATE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.DataState.LOADED_STATE);\n} }\nexport class AppComponent {\n    constructor(destapiService) {\n        this.destapiService = destapiService;\n        this.DataState = DataState;\n        this.destResponse_cur = new BehaviorSubject(null);\n    }\n    ngOnInit() {\n    }\n    // fetch all current resturant items\n    submitCondition(conditionForm) {\n        this.destResponse$ = this.destapiService.destResponse$(conditionForm.value)\n            .pipe(map(result => {\n            this.destResponse_cur.next(result.data);\n            return ({ dataState: DataState.LOADED_STATE, appData: result.data.destResponse });\n        }), startWith(({ dataState: DataState.LOADING_STATE, appData: this.destResponse_cur.value })));\n    }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DestapiService)); };\nAppComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AppComponent, selectors: [[\"app-root\"]], decls: 6, vars: 3, consts: [[1, \"container\"], [1, \"form-group\"], [\"for\", \"resultTextArea\"], [3, \"ngSwitch\", 4, \"ngIf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [1, \"m-1\", \"d-flex\", \"justify-content-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [\"id\", \"resultTextArea\", \"rows\", \"3\", 1, \"form-control\"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"label\", 2);\n        i0.ɵɵtext(3, \"Result\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, AppComponent_ng_container_4_Template, 3, 3, \"ng-container\", 3);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 1, ctx.destResponse$));\n    } }, directives: [i2.NgIf, i2.NgSwitch, i2.NgSwitchCase], pipes: [i2.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyJ9 */\"] });\n"]},"metadata":{},"sourceType":"module"}